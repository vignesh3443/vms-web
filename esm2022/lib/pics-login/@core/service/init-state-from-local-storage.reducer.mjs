import { INIT, UPDATE } from '@ngrx/store';
import { LocalStorageService } from './local-storage.service';
export function initStateFromLocalStorage(reducer) {
    return function (state, action) {
        const newState = reducer(state, action);
        if ([INIT.toString(), UPDATE.toString()].includes(action.type)) {
            return { ...newState, ...LocalStorageService.loadInitialState() };
        }
        return newState;
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5pdC1zdGF0ZS1mcm9tLWxvY2FsLXN0b3JhZ2UucmVkdWNlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3BpY3MtY29yZS9sb2dpbi9zcmMvbGliL3BpY3MtbG9naW4vQGNvcmUvc2VydmljZS9pbml0LXN0YXRlLWZyb20tbG9jYWwtc3RvcmFnZS5yZWR1Y2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBaUIsSUFBSSxFQUFFLE1BQU0sRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUUxRCxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUU5RCxNQUFNLFVBQVUseUJBQXlCLENBQUMsT0FBZ0M7SUFDeEUsT0FBTyxVQUFVLEtBQUssRUFBRSxNQUFNO1FBQzVCLE1BQU0sUUFBUSxHQUFHLE9BQU8sQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDeEMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsRUFBRSxNQUFNLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQzlELE9BQU8sRUFBRSxHQUFHLFFBQVEsRUFBRSxHQUFHLG1CQUFtQixDQUFDLGdCQUFnQixFQUFFLEVBQUUsQ0FBQztTQUNuRTtRQUNELE9BQU8sUUFBUSxDQUFDO0lBQ2xCLENBQUMsQ0FBQztBQUNKLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IHsgQWN0aW9uUmVkdWNlciwgSU5JVCwgVVBEQVRFIH0gZnJvbSAnQG5ncngvc3RvcmUnO1xyXG5pbXBvcnQgeyBBcHBTdGF0ZSB9IGZyb20gJy4vY29yZS5zdGF0ZSc7XHJcbmltcG9ydCB7IExvY2FsU3RvcmFnZVNlcnZpY2UgfSBmcm9tICcuL2xvY2FsLXN0b3JhZ2Uuc2VydmljZSc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdFN0YXRlRnJvbUxvY2FsU3RvcmFnZShyZWR1Y2VyOiBBY3Rpb25SZWR1Y2VyPEFwcFN0YXRlPik6IEFjdGlvblJlZHVjZXI8QXBwU3RhdGU+IHtcclxuICByZXR1cm4gZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcclxuICAgIGNvbnN0IG5ld1N0YXRlID0gcmVkdWNlcihzdGF0ZSwgYWN0aW9uKTtcclxuICAgIGlmIChbSU5JVC50b1N0cmluZygpLCBVUERBVEUudG9TdHJpbmcoKV0uaW5jbHVkZXMoYWN0aW9uLnR5cGUpKSB7XHJcbiAgICAgIHJldHVybiB7IC4uLm5ld1N0YXRlLCAuLi5Mb2NhbFN0b3JhZ2VTZXJ2aWNlLmxvYWRJbml0aWFsU3RhdGUoKSB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ld1N0YXRlO1xyXG4gIH07XHJcbn1cclxuIl19