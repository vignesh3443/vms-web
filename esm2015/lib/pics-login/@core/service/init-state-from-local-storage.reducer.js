import { INIT, UPDATE } from '@ngrx/store';
import { LocalStorageService } from './local-storage.service';
export function initStateFromLocalStorage(reducer) {
    return function (state, action) {
        const newState = reducer(state, action);
        if ([INIT.toString(), UPDATE.toString()].includes(action.type)) {
            return Object.assign(Object.assign({}, newState), LocalStorageService.loadInitialState());
        }
        return newState;
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5pdC1zdGF0ZS1mcm9tLWxvY2FsLXN0b3JhZ2UucmVkdWNlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3BpY3MtY29yZS9sb2dpbi9zcmMvbGliL3BpY3MtbG9naW4vQGNvcmUvc2VydmljZS9pbml0LXN0YXRlLWZyb20tbG9jYWwtc3RvcmFnZS5yZWR1Y2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBaUIsSUFBSSxFQUFFLE1BQU0sRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUUxRCxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUU5RCxNQUFNLFVBQVUseUJBQXlCLENBQUMsT0FBZ0M7SUFDeEUsT0FBTyxVQUFVLEtBQUssRUFBRSxNQUFNO1FBQzVCLE1BQU0sUUFBUSxHQUFHLE9BQU8sQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDeEMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsRUFBRSxNQUFNLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQzlELHVDQUFZLFFBQVEsR0FBSyxtQkFBbUIsQ0FBQyxnQkFBZ0IsRUFBRSxFQUFHO1NBQ25FO1FBQ0QsT0FBTyxRQUFRLENBQUM7SUFDbEIsQ0FBQyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgeyBBY3Rpb25SZWR1Y2VyLCBJTklULCBVUERBVEUgfSBmcm9tICdAbmdyeC9zdG9yZSc7XHJcbmltcG9ydCB7IEFwcFN0YXRlIH0gZnJvbSAnLi9jb3JlLnN0YXRlJztcclxuaW1wb3J0IHsgTG9jYWxTdG9yYWdlU2VydmljZSB9IGZyb20gJy4vbG9jYWwtc3RvcmFnZS5zZXJ2aWNlJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0U3RhdGVGcm9tTG9jYWxTdG9yYWdlKHJlZHVjZXI6IEFjdGlvblJlZHVjZXI8QXBwU3RhdGU+KTogQWN0aW9uUmVkdWNlcjxBcHBTdGF0ZT4ge1xyXG4gIHJldHVybiBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xyXG4gICAgY29uc3QgbmV3U3RhdGUgPSByZWR1Y2VyKHN0YXRlLCBhY3Rpb24pO1xyXG4gICAgaWYgKFtJTklULnRvU3RyaW5nKCksIFVQREFURS50b1N0cmluZygpXS5pbmNsdWRlcyhhY3Rpb24udHlwZSkpIHtcclxuICAgICAgcmV0dXJuIHsgLi4ubmV3U3RhdGUsIC4uLkxvY2FsU3RvcmFnZVNlcnZpY2UubG9hZEluaXRpYWxTdGF0ZSgpIH07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3U3RhdGU7XHJcbiAgfTtcclxufVxyXG4iXX0=